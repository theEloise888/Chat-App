(this.webpackJsonpreactexercises=this.webpackJsonpreactexercises||[]).push([[0],{119:function(e,t,s){},154:function(e,t){},165:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(10),o=(s(119),s(56)),r=s(70),c=s(204),i=s(108),l=s(212),m=s(209),j=s(211),d=s(215),g=s(206),u=s(207),b=s(104),h=Object(b.a)({typography:{useNextVariants:!0},palette:{common:{black:"#000",white:"#fff"},background:{paper:"rgba(232, 232, 232, 1)",default:"#fafafa"},primary:{light:"rgba(172, 195, 223, 1)",main:"rgba(227, 14, 51, 1)",dark:"rgba(138, 137, 140, 1)",contrastText:"#fff"},secondary:{light:"rgba(152, 87, 170, 0.52)",main:"rgba(80, 141, 207, 1)",dark:"rgba(119, 119, 119, 1)",contrastText:"#fff"},error:{light:"rgba(240, 222, 0, 1)",main:"#f44336",dark:"rgba(255, 0, 0, 1)",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(226, 60, 177, 0.87)",disabled:"rgba(155, 155, 155, 0.5)",hint:"rgba(0, 0, 0, 0.38)"}}}),f=(s(42),s(99)),x=s.n(f),O=s.p+"static/media/chatlogo-maskable.7377189c.png",p=s(205),y=s(197),v=s(213),N=s(216),w=s(210),S=s(208),k=s(101),T=s.n(k),C=s(200),z=s(201),A=s(5),E=function(e){return Object(A.jsx)(y.a,{color:"primary",title:"Chat Toolbar",className:"toolbar",children:Object(A.jsx)(C.a,{container:!0,justify:"flex-end",alignItems:"flex-end",children:Object(A.jsx)(z.a,{onClick:function(){return e.viewDialog()},style:{bottom:5,right:-30},children:Object(A.jsx)(T.a,{style:{color:"white",height:70,width:70,margin:"0 auto"}})})})})},J=s(203),L=s(202),R=s(162)().format("h:mm:ss a"),I=function(e){var t=e.message;return Object(A.jsxs)("div",{className:"messageBubble",style:{backgroundColor:t.colour,width:"45%",left:e.client===t.from?"45%":"-1%"},children:[Object(A.jsxs)("div",{style:{fontSize:"smaller",fontWeight:"bold"},children:[t.from," Says:"]}),Object(A.jsxs)("div",{style:{fontSize:"smaller",textAlign:"right"},children:[" ","room: ",t.room]}),Object(A.jsxs)("div",{style:{fontSize:"smaller",textAlign:"right"},children:[" ","@",R]}),Object(A.jsx)("br",{}),Object(A.jsx)("div",{style:{marginTop:"1vh",fontSize:"large"},children:t.text})]})},M=function(e){return console.log(e.message),Object(A.jsx)("div",{style:{content:"",position:"absolute",bottom:"-15px",left:e.client===e.message?"80%":"8%",borderWidth:"15px 15px 0",borderStyle:"solid",borderColor:"".concat(e.color," transparent")}})},W=function(e){var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){t.current.scrollIntoView(!0)}),[]),Object(A.jsxs)("div",{children:[Object(A.jsxs)(L.a,{ref:t,style:{textAlign:"left",marginBottom:"5px"},children:[Object(A.jsx)(I,{message:e.message,color:"".concat(e.message.colour),client:e.client}),Object(A.jsx)(M,{message:e.message.from,color:"".concat(e.message.colour),client:e.client})]}),Object(A.jsx)("p",{})]})},q=function(e){var t=e.messages.map((function(t,s){return Object(A.jsx)(W,{message:t,client:e.client},s)}));return Object(A.jsx)(J.a,{children:t})},B=s(102),D=s.n(B),F=function(e){var t=Object(a.useReducer)((function(e,t){return Object(r.a)(Object(r.a)({},e),t)}),{members:[],member:"",messages:[],rooms:[],users:[],status:"enter a chat name",roomNameStatus:"enter a roomname",showjoinfields:!0,alreadyexists:!1,clientdisconnects:!1,chatName:"",roomName:"",typingMsg:"",isTyping:!1,message:"",showRoom:!0,selection:""}),s=Object(o.a)(t,2),n=s[0],b=s[1],f=Object(a.useState)(""),k=Object(o.a)(f,2),T=k[0],C=k[1];Object(a.useEffect)((function(){z()}),[]);var z=function(){var e=x()();e.on("nameexists",J),e.on("welcome",I),e.on("someonejoined",I),e.on("someoneleft",I),e.on("someoneistyping",M),e.on("newmessage",W),e.on("allrooms",L),e.on("allusers",R),b({socket:e})},J=function(e){b({status:e.text}),console.log("name status ".concat(JSON.stringify(e.text)))},L=function(e){b({rooms:e})},R=function(e){b({members:e})},I=function(e){var t=n.messages;t.push(e),b({messages:t,users:e.users,showjoinfields:!1,alreadyexists:!1,clientdisconnects:!0})},M=function(e){e.from!==n.chatName&&b({typingMsg:e.text})},W=function(e){I(e),b({typingMsg:"",message:""})},B=Object(a.useState)(!1),F=Object(o.a)(B,2),U=F[0],V=F[1];return Object(A.jsxs)(c.a,{theme:h,children:[Object(A.jsx)(p.a,{position:"static",children:Object(A.jsxs)(y.a,{children:[Object(A.jsx)("div",{className:"chatItUpText",children:Object(A.jsx)(i.a,{variant:"h6",color:"inherit",children:"Chat it Up!"})}),!n.showjoinfields&&Object(A.jsx)(E,{viewDialog:function(){return V(!0)}}),Object(A.jsxs)(d.a,{open:U,onClose:function(){return V(!1)},style:{margin:20},children:[Object(A.jsx)(g.a,{style:{textAlign:"center"},children:"Who's On?"}),Object(A.jsx)(u.a,{children:n.members.map((function(e,t){return Object(A.jsxs)("li",{style:{listStyleType:"none"},children:[Object(A.jsx)(D.a,{className:"personicon"}),e.name," is in ",e.roomname]},t)}))})]})]})}),Object(A.jsx)("div",{className:"chatlogo-container ",children:Object(A.jsx)("img",{src:O,style:{width:80,height:70,marginTop:10}})}),Object(A.jsx)("h3",{style:{textAlign:"center",margin:"5vw"},children:"Sign In"}),n.showjoinfields&&Object(A.jsx)("div",{style:{border:"solid",padding:"3vw",margin:"5vw",color:"#d3d3d3 "},children:Object(A.jsx)(l.a,{style:{marginLeft:"3vw"},onChange:function(e){b({chatName:e.target.value.trimStart().replace(/\s\s+/g," "),status:""})},placeholder:"Chat Name",autoFocus:!0,required:!0,value:n.chatName,error:""!==n.status,helperText:"".concat(n.status)})}),n.showjoinfields&&Object(A.jsx)("div",{style:{border:"solid",padding:"3vw",margin:"5vw",color:"#d3d3d3 "},children:Object(A.jsxs)(m.a,{children:[Object(A.jsxs)(S.a,{component:"fieldset",children:[Object(A.jsx)(i.a,{style:{fontSize:"large"},color:"secondary",children:"Join Existing or Enter Room Name"}),Object(A.jsx)(N.a,{style:{width:"auto",height:"auto",display:"flex",flexWrap:"nowrap",flexDirection:"column"},"aria-label":"categories",value:T,onChange:function(e){b({roomName:e.target.value,roomNameStatus:""}),C(e.target.value)},children:n.rooms.map((function(e,t){return Object(A.jsx)(w.a,{style:{marginLeft:"5vw",color:"black"},control:Object(A.jsx)(v.a,{}),label:e,value:e},t)}))})]}),Object(A.jsx)("br",{}),Object(A.jsx)(l.a,{style:{marginLeft:"3vw"},onChange:function(e){b({roomName:e.target.value.trimStart().replace(/\s\s+/g," "),roomNameStatus:""}),console.log("room name selected ".concat(n.roomName))},placeholder:"Room Name",required:!0,value:n.roomName,error:""!==n.roomNameStatus,helperText:"".concat(n.roomNameStatus)})]})}),n.showjoinfields&&Object(A.jsx)(j.a,{variant:"contained","data-testid":"submit",color:"primary",style:{marginLeft:"5vw",color:"#d3d3d3 "},onClick:function(){n.socket.emit("join",{chatName:n.chatName,roomName:n.roomName})},disabled:n.chatName.length<1||n.roomName.length<1||""===n.chatName||""===n.roomName,children:"Join"}),Object(A.jsx)("div",{className:"scenario-container",children:n.messages&&Object(A.jsx)("div",{className:"messagesList",children:Object(A.jsx)(q,{messages:n.messages,client:n.chatName})})}),!n.showjoinfields&&Object(A.jsx)("input",{className:"inputBox",onChange:function(e){b({message:e.target.value}),!1===n.isTyping?(n.socket.emit("typing",{from:n.chatName},(function(e){})),b({isTyping:!0})):(n.socket.emit("stoppedtyping",{from:n.chatName},(function(e){})),b({isTyping:!1}))},placeholder:"type something here",type:"text",autoFocus:!0,value:n.message,onKeyPress:function(e){return"Enter"===e.key?void(""!==n.message&&(n.socket.emit("message",{from:n.chatName,text:n.message},(function(e){})),b({isTyping:!1,text:n.message=""}))):null}}),Object(A.jsx)("div",{children:Object(A.jsx)(i.a,{color:"primary",children:n.typingMsg})})]})},U=s(103),V=s.n(U);var K=function(){return Object(A.jsx)(V.a,{children:Object(A.jsx)(F,{})})},P=s(105);Object(n.render)(Object(A.jsx)(P.a,{children:Object(A.jsx)(K,{})}),document.querySelector("#root"))},42:function(e,t,s){}},[[165,1,2]]]);